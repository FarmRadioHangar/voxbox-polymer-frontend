<link rel="import" href="../bower_components/paper-button/paper-button.html">
<link rel="import" href="../bower_components/paper-dialog/paper-dialog.html">
<link rel="import" href="../bower_components/polymer/polymer.html">

<dom-module id="restart-dialog">
  <template>
    <style>

      paper-dialog {
        min-height: 130px;
      }

      paper-button {
        color: rgb(0, 188, 212);
        width: 100%;
      }

    </style>
    <paper-dialog 
      id                     = "dialog"
      style                  = "width: 250px;"
      opened                 = "{{opened}}">
      <div>
        <paper-button on-tap="_restartBox">Restart Voxbox</paper-button>
      </div>
      <template 
        is                   = "dom-repeat" 
        items                = "{{channels}}" 
        as                   = "modem">
        <div>
          <paper-button data-args$="[[modem.id]]" on-tap="_restartModems">Restart [[modem.id]]</paper-button>
        </div>
      </template>
      <div>
        <paper-button on-tap="_restartAsterisk">Restart Asterisk</paper-button>
      </div>
    </paper-dialog>
  </template>
  <script>

    Polymer({

      is: 'restart-dialog',

      properties: {
        opened: {
          type: Boolean,
          value: false,
        },
      },

      open: function() {
        this.$.dialog.open();
      },

      close: function() {
        this.$.dialog.close();
      },

      _restartBox: function() {
        //this.fire('xml-http-request', 'box');
      },

      _restartModems: function(e) {
        console.log(e.target.getAttribute('data-args'));
        //this.fire('xml-http-request', 'modems');
      },

      _restartAsterisk: function() {
        //this.fire('xml-http-request', 'asterisk');
      },

    });

  </script>
</dom-module>
